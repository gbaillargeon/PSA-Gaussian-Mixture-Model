library(plotly)
library(dplyr)
######################################################

data <- read.csv("vulnerabilitydifference.csv")

# Sort data by "difference" column in the csv to to get the largest values at the top, and lowest at the bottom
data <- data %>% arrange(difference)

# Create the plot
plot <- plot_ly(data, x = ~difference, y = ~species, type = 'bar', orientation = 'h',
                marker = list(color = 'grey')) %>% 
  layout(
    title = "Changes in vulnerability scores (2020 vs. 2023)",
    xaxis = list(
      title = "Difference",
      range = c(-0.6, 0.8),  # Adjust the x-axis range size
      tickfont = list(size = 10)  
    ),
    yaxis = list(
      title = "Species",
      categoryorder = "total ascending",
      tickfont = list(size = 12)  
    ),
    showlegend = FALSE
  )

# Show the plot
print(plot)
